import{_ as x,a as y}from"./pagination.9e038dee.js";import{u as i}from"./asyncData.0b7e462a.js";import{H as r,U as p,b as u,a1 as _,u as e,a6 as k,o as m,C as g}from"./entry.60b97f8c.js";import"./nuxt-link.58755319.js";import"./date.e62e4fef.js";import"./index.0f360d90.js";/* empty css                       */const w={key:0,class:"fenye"},E={__name:"index",async setup(A){let t,o;const a=r(1),s=r(10),{data:l}=([t,o]=p(()=>i("total",()=>g("/posts").find())),t=await t,o(),t);console.log("总文章数",l.value.length);const d=r(l.value.length),{data:n,refresh:f}=([t,o]=p(()=>i("postpage",()=>(console.log("当前页数",a.value),g("/posts").sort({date:-1}).skip((a.value-1)*s.value).limit(s.value).find()))),t=await t,o(),t);console.log("所有文章数据",n);const h=c=>{a.value=c,f(),console.log("文章数据",n)};return(c,z)=>{const v=x,C=y;return m(),u("div",null,[_(v,{data:e(n)},null,8,["data"]),e(n).length!==0?(m(),u("div",w,[_(C,{"page-size":e(s),total:e(d),"current-page":e(a),"hide-on-single-page":!0,onCurrentChange:h},null,8,["page-size","total","current-page"])])):k("",!0)])}}};export{E as default};
