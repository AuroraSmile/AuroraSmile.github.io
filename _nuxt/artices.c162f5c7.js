import{_ as C,a as k}from"./pagination.8742d45f.js";import{u as _}from"./asyncData.d45aefdd.js";import{H as r,U as p,b as u,u as e,c as x,a8 as m,a1 as w,o as c,C as g}from"./entry.fba9e2a7.js";import"./nuxt-link.f6d86b13.js";import"./date.70be6dd6.js";import"./index.cde7494a.js";/* empty css                       */const A={class:"artices_container page_container"},B={key:1,class:"fenye"},L={__name:"artices",async setup(z){let t,o;const n=r(1),s=r(10),{data:l}=([t,o]=p(()=>_("total",()=>g("/posts").find())),t=await t,o(),t);console.log("总文章数",l.value.length);const d=r(l.value.length),{data:a,refresh:h}=([t,o]=p(()=>_("postpage",()=>(console.log("当前页数",n.value),g("/posts").sort({date:-1}).skip((n.value-1)*s.value).limit(s.value).find()))),t=await t,o(),t);console.log("所有文章数据",a);const f=i=>{n.value=i,h(),console.log("文章数据",a)};return(i,N)=>{const v=C,y=k;return c(),u("div",A,[e(a).length!==0?(c(),x(v,{key:0,data:e(a)},null,8,["data"])):m("",!0),e(a).length!==0?(c(),u("div",B,[w(y,{"page-size":e(s),total:e(d),"current-page":e(n),"hide-on-single-page":!0,onCurrentChange:f},null,8,["page-size","total","current-page"])])):m("",!0)])}}};export{L as default};
